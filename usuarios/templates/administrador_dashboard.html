<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - StressTrack</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,900" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../static/stylesDash.css"> <!-- Aquí va tu CSS personalizado -->
</head>

<body class="g-sidenav-show bg-gray-100">
    <!-- Barra lateral -->
    <aside class="sidenav">
        <div class="sidenav-header">
            <img src="../static/img/IconStress.png" alt="Logo StressTrack" class="logo"> <!-- Imagen añadida -->
            <h2>StressTrack</h2>
        </div>
        <div class="sidenav-collapse">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="{% url 'administrador_dashboard' %}" class="nav-link active">
                        <i class="material-symbols-rounded">dashboard</i>
                        <span>Gestión de usuarios</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'crear_usuario' %}" class="nav-link">
                        <i class="material-symbols-rounded">person_add</i>
                        <span>Crear Nuevo Usuario</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="sidenav-footer"> <!-- Sección para el perfil y cerrar sesión -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="{% url 'perfil' %}" class="nav-link">
                        <i class="material-symbols-rounded">account_circle</i>
                        <span>Perfil</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'login' %}" class="nav-link">
                        <i class="material-symbols-rounded">logout</i>
                        <span>Cerrar Sesión</span>
                    </a>
                </li>
            </ul>
        </div>
    </aside>

    <!-- Contenido principal -->
    <main class="main-content">
        <header>
            <h1>Panel de Administración</h1>
        </header>

        <section class="content-section">
            <h2>Gestión de Usuarios</h2>
            <!-- Tabla de usuarios -->
            <table class="user-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Email</th>
                        <th>Rol</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for usuario in usuarios %}
                    <tr>
                        <td>{{ usuario.id_usuario }}</td>
                        <td>{{ usuario.nombre }}</td>
                        <td>{{ usuario.email }}</td>
                        <td>{{ usuario.id_rol.nombre_rol }}</td>
                        <td>
                            <a href="{% url 'editar_usuario' usuario.id %}" class="action-btn edit">Editar</a>
                            <a href="{% url 'eliminar_usuario' usuario.id %}" class="action-btn delete" onclick="return confirm('¿Estás seguro de eliminar este usuario?');">Eliminar</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    </main>

    <footer>
        <p>StressTrack &copy; 2024. Todos los derechos reservados.</p>
    </footer>
</body>

</html>
